{
  "header": {
    "compileId": "fixture-001",
    "timestamp": 1700000000000,
    "durationMs": 42,
    "phaseTimings": [
      { "phase": "parse", "durationMs": 8 },
      { "phase": "resolve", "durationMs": 12 },
      { "phase": "analyse", "durationMs": 10 },
      { "phase": "lower", "durationMs": 7 },
      { "phase": "emit", "durationMs": 5 }
    ],
    "worldCounts": {
      "entities": 3,
      "locations": 2,
      "exits": 2,
      "properties": 5,
      "rules": 1
    },
    "inputFileCount": 2
  },
  "chunks": [
    {
      "name": "ast",
      "data": {
        "nodes": [
          { "kind": "world", "name": "Demo" },
          { "kind": "entity", "name": "Player" },
          { "kind": "entity", "name": "Sword" },
          { "kind": "entity", "name": "Shield" },
          { "kind": "location", "name": "Tavern" },
          { "kind": "location", "name": "Market" }
        ]
      },
      "contentHash": "a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2"
    },
    {
      "name": "symbolTable",
      "data": {
        "entries": [
          { "id": "player", "name": "Player", "kind": "entity", "file": "main.urd.md", "line": 3 },
          { "id": "sword", "name": "Sword", "kind": "entity", "file": "main.urd.md", "line": 7 },
          { "id": "shield", "name": "Shield", "kind": "entity", "file": "main.urd.md", "line": 11 },
          { "id": "tavern", "name": "Tavern", "kind": "location", "file": "locations.urd.md", "line": 1 },
          { "id": "market", "name": "Market", "kind": "location", "file": "locations.urd.md", "line": 5 }
        ]
      },
      "contentHash": "b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3"
    },
    {
      "name": "factSet",
      "data": {
        "reads": [],
        "writes": [],
        "exits": [
          {
            "from_location": "tavern",
            "to_location": "market",
            "exit_name": "east",
            "is_conditional": false,
            "guard_reads": [],
            "span": { "file": "locations.urd.md", "start_line": 3, "start_col": 1, "end_line": 3, "end_col": 20 }
          },
          {
            "from_location": "market",
            "to_location": "tavern",
            "exit_name": "west",
            "is_conditional": false,
            "guard_reads": [],
            "span": { "file": "locations.urd.md", "start_line": 7, "start_col": 1, "end_line": 7, "end_col": 20 }
          }
        ],
        "jumps": [],
        "choices": [],
        "rules": []
      },
      "contentHash": "c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4"
    },
    {
      "name": "propertyDependencyIndex",
      "data": {
        "properties": [],
        "summary": {
          "total_properties": 0,
          "total_reads": 0,
          "total_writes": 0,
          "read_never_written": 0,
          "written_never_read": 0
        }
      },
      "contentHash": "d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5"
    },
    {
      "name": "definitionIndex",
      "data": {
        "definitions": [
          {
            "key": "entity:@player",
            "span": { "file": "main.urd.md", "start_line": 3, "start_col": 1, "end_line": 3, "end_col": 10 },
            "definition": { "kind": "entity", "type_name": "Character", "display_name": "Player" }
          },
          {
            "key": "entity:@sword",
            "span": { "file": "main.urd.md", "start_line": 7, "start_col": 1, "end_line": 7, "end_col": 10 },
            "definition": { "kind": "entity", "type_name": "Item", "display_name": "Sword" }
          },
          {
            "key": "entity:@shield",
            "span": { "file": "main.urd.md", "start_line": 11, "start_col": 1, "end_line": 11, "end_col": 10 },
            "definition": { "kind": "entity", "type_name": "Item", "display_name": "Shield" }
          },
          {
            "key": "location:tavern",
            "span": { "file": "locations.urd.md", "start_line": 1, "start_col": 1, "end_line": 1, "end_col": 10 },
            "definition": { "kind": "location", "display_name": "Tavern" }
          },
          {
            "key": "location:market",
            "span": { "file": "locations.urd.md", "start_line": 5, "start_col": 1, "end_line": 5, "end_col": 10 },
            "definition": { "kind": "location", "display_name": "Market" }
          }
        ],
        "count": 5
      },
      "contentHash": "d5e6f7a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5"
    },
    {
      "name": "urdJson",
      "data": {
        "world": {
          "name": "demo",
          "version": "1",
          "start": "tavern"
        },
        "types": {
          "Character": {
            "traits": ["interactable", "mobile"],
            "properties": {
              "name": { "type": "string", "default": "Unknown" },
              "location": { "type": "string" }
            }
          },
          "Item": {
            "traits": ["portable"],
            "properties": {
              "name": { "type": "string", "default": "Unknown" },
              "owner": { "type": "ref" }
            }
          }
        },
        "entities": {
          "player": { "type": "Character", "properties": { "name": "Hero", "location": "tavern" } },
          "sword": { "type": "Item", "properties": { "name": "Iron Sword", "owner": "player" } },
          "shield": { "type": "Item", "properties": { "name": "Wooden Shield" } }
        },
        "locations": {
          "tavern": {
            "description": "A cosy tavern with a roaring fire",
            "exits": { "east": { "to": "market" } },
            "contains": ["player", "sword"]
          },
          "market": {
            "description": "A bustling marketplace",
            "exits": { "west": { "to": "tavern" } },
            "contains": ["shield"]
          }
        }
      },
      "contentHash": "e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6"
    },
    {
      "name": "diagnostics",
      "data": [
        {
          "severity": "warning",
          "message": "Entity 'Shield' has no location assigned",
          "code": "W001",
          "span": { "file": "main.urd.md", "startLine": 11, "startCol": 1, "endLine": 11, "endCol": 20 }
        },
        {
          "severity": "info",
          "message": "Compilation successful with 3 entities and 2 locations",
          "code": "I001",
          "span": null
        }
      ],
      "contentHash": "f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1"
    }
  ]
}
